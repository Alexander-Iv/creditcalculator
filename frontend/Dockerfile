FROM openjdk:8-alpine
#FROM openjdk:8
LABEL maintainer="alexander.an.ivanov@gmail.com"

ARG APPLICATION_NAME
ARG APPLICATION_VERSION
#ARG APPLICATION_HOST
#ARG APPLICATION_DB
#ARG APPLICATION_USER
#ARG APPLICATION_PASSWORD

ENV APP_NAME=$APPLICATION_NAME-$APPLICATION_VERSION.jar
#for application.properties
#ENV APP_HOST=$APPLICATION_HOST
#ENV APP_DB=$APPLICATION_DB
#ENV APP_USER=$APPLICATION_USER
#ENV APP_PASSWORD=$APPLICATION_PASSWORD
ENV TARGET_DIR=/opt/${APPLICATION_NAME}/

#RUN echo "~~~ Application Name: "$APPLICATION_NAME
#RUN echo "~~~ Version: "$APPLICATION_VERSION
#RUN echo "~~~ Host: "$APP_HOST
#RUN echo "~~~ Db: "$APP_DB
#RUN echo "~~~ User: "$APP_USER
#RUN echo "~~~ Password: "$APP_PASSWORD
#RUN echo "~~~ Target Directory: "$TARGET_DIR

RUN mkdir -p $TARGET_DIR
COPY ./build/libs $TARGET_DIR
WORKDIR $TARGET_DIR
CMD java -jar $APP_NAME
